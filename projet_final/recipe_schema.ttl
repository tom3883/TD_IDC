@prefix : <http://recipes-project.com/schema#> .
@prefix recipes: <http://recipes-project.com/recipes/data#> .
@prefix products: <http://recipes-project.com/products#> .

@prefix s: <https://schema.org#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix owl:  <http://www.w3.org/2002/07/owl#> .
@prefix db:    <http://dbpedia.org/page#> .

: a owl:Ontology ;
  rdfs:label "Recipes Ontology" ;
  rdfs:comment "An ontology representing recipes and products sold by walmart." ;
  owl:priorVersion <http://project-wold.fr/schema#> .

# Classes #

:Category a owl:Class;
    rdfs:label "Category"@en, "Cat√©gorie"@fr;
    rdfs:definition "Category, type of a concept or an object"@en;
    owl:equivalentClass db:Category .

# Classes related to recipes #

:Recipe a owl:Class ;
    rdfs:label "Recipe"@en ;
    owl:equivalentClass s:Recipe ;
    rdfs:subClassOf [a owl:Restriction; owl:onProperty :recipeInstructions; owl:allValuesFrom xsd:string],
                    [a owl:Restriction; owl:onProperty :recipeCategory; owl:allValuesFrom :RecipeCategory],
                    [a owl:Restriction; owl:onProperty :healthLabels; owl:allValuesFrom xsd:string],
                    [a owl:Restriction;owl:onProperty :recipeCategory; owl:onClass :RecipeCategory; owl:qualifiedCardinality 1],
                    [a owl:Restriction;owl:onProperty :recipeIngredient; owl:onClass :Ingredient; owl:minCardinality 1] .
                     

:NutritionInformation a owl:Class ;
    rdfs:label "Nutrition Information"@en ;
    owl:equivalentClass s:NutritionInformation ;
    rdfs:subClassOf [a owl:Restriction; owl:onProperty :calories; owl:allValuesFrom xsd:float],
                    [a owl:Restriction; owl:onProperty :calories; owl:minCardinality 1],
                    [a owl:Restriction;owl:onProperty :calories; owl:maxCardinality 1] .

:RecipeCategory a owl:Class ;
    rdfs:label "Recipe Category"@en ;
    rdfs:definition "Recipes can be classed in different categories"@en ;
    owl:differentFrom :ProductCategory ;
    rdfs:subClassOf :Category .

:Ingredient a owl:Class;
    rdfs:label "Recipe Ingredient"@en ;
    rdfs:definition "An ingredient of a recipe"@en;
    owl:equivalentClass db:Ingredient ;
    owl:disjontWith :Product ;
    rdfs:subClassOf [a owl:Restriction; owl:onProperty :name; owl:allValuesFrom xsd:string],
                    [a owl:Restriction; owl:onProperty :name; owl:minCardinality 1],
                    [a owl:Restriction; owl:onProperty :name; owl:maxCardinality 1].


:RecipeInformation a owl:Class ;
    owl:disjointUnionOf
    ( :NutritionInformation :RecipeCategory ) .

# Classes related to products #

:Product a owl:Class ;
    rdfs:label "Product"@en ;
    owl:equivalentClass s:Product ;
    owl:disjontWith :Ingredient ;
    rdfs:subClassOf [a owl:Restriction; owl:onProperty :productCategory; owl:allValuesFrom :ProductCategory],
                    [a owl:Restriction;owl:onProperty :productCategory; owl:onClass :ProductCategory; owl:qualifiedCardinality 1] ,
                    [a owl:Restriction; owl:onProperty :brand; owl:allValuesFrom :Brand],
                    [a owl:Restriction; owl:onProperty :brand; owl:onClass :Brand; owl:qualifiedCardinality 1] ,
                    [a owl:Restriction; owl:onProperty :productName; owl:allValuesFrom xsd:string],
                    [a owl:Restriction; owl:onProperty :productName; owl:minCardinality 1],
                    [a owl:Restriction; owl:onProperty :productName; owl:maxCardinality 1] ,
                    [a owl:Restriction; owl:onProperty :price; owl:allValuesFrom xsd:float],
                    [a owl:Restriction; owl:onProperty :price; owl:minCardinality 1],
                    [a owl:Restriction; owl:onProperty :price; owl:maxCardinality 1] ,
                    [a owl:Restriction; owl:onProperty :deduced_type; owl:maxCardinality 1] .

:Brand a owl:Class ;
    rdfs:label "Brand"@en ;
    owl:hasKey :brandName ;
    owl:equivalentClass s:Brand ;
    rdfs:subClassOf [a owl:Restriction; owl:onProperty :brandName; owl:maxCardinality 1],
                    [a owl:Restriction; owl:onProperty :brandName; owl:minCardinality 1],
                    [a owl:Restriction; owl:onProperty :brandName; owl:allValuesFrom xsd:string] .

:ProductCategory a owl:Class ;
    rdfs:label "Product Category"@en ;
    rdfs:definition "Products can be classed in different categories"@en ;
    owl:differentFrom :RecipeCategory ;
    rdfs:subClassOf [a owl:Restriction; owl:onProperty :categoryName; owl:allValuesFrom xsd:string],
                    [a owl:Restriction; owl:onProperty :categoryName; owl:minCardinality 1],
                    [a owl:Restriction; owl:onProperty :categoryName; owl:maxCardinality 1] ;
    rdfs:subClassOf :Category .

[] a owl:AllDisjointClasses ;
    owl:members
    ( :Product :Brand :Recipe ) . 

# Properties #

:name a owl:DatatypeProperty ;
    rdfs:label "name"@en ;
    owl:equivalentProperty s:name ;
    rdfs:range xsd:string .

:description a owl:DatatypeProperty ;
    rdfs:label "description"@en ;
    owl:equivalentProperty s:description ;
    rdfs:range xsd:string .

# Properties related to recipes #

:recipeIngredient a owl:DatatypeProperty ;
    rdfs:label "ingredients"@en ;
    owl:equivalentProperty s:recipeIngredient ;
    rdfs:range :Ingredient;
    rdfs:domain :Recipe .

:nutrition a owl:ObjectProperty ;
    rdfs:label "nutrition"@en ;
    owl:equivalentProperty s:nutrition ;
    rdfs:domain :NutritionInformation .

:calories a owl:DatatypeProperty ;
    rdfs:label "calories"@en ;
    owl:equivalentProperty s:calories ;
    rdfs:domain :NutritionInformation ;
    rdfs:range xsd:float .

:recipeInstructions a owl:DatatypeProperty ;
    rdfs:label "recipe instructions"@en ;
    owl:equivalentProperty s:recipeInstructions ;
    rdfs:domain :Recipe ;
    rdfs:range xsd:string .

:recipeCategory a owl:ObjectProperty ;
    rdfs:label "recipe category"@en ;
    rdfs:domain :Recipe ;
    rdfs:range :RecipeCategory .

:healthLabels a owl:DatatypeProperty ;
    rdfs:label "health labels"@en ;
    rdfs:domain :Recipe ;
    rdfs:range xsd:string .

# Properties related to products #

:productCategory a owl:FunctionalProperty ;
    rdfs:label "category of a product"@en ;
    rdfs:domain :Product ;
    rdfs:range :ProductCategory .

:brand a owl:ObjectProperty ;
    rdfs:label "brand of a product"@en ;
    owl:equivalentProperty s:brand ;
    rdfs:domain :Product ;
    rdfs:range :Brand .

:productName a owl:FunctionalProperty ;
    rdfs:label "name"@en ;
    owl:equivalentProperty :name ;
    rdfs:domain :Product ;
    rdfs:range xsd:string .

:brandName a owl:FunctionalProperty ;
    rdfs:label "name"@en ;
    owl:equivalentProperty :name ;
    rdfs:domain :Brand ;
    rdfs:range xsd:string .

:categoryName a owl:FunctionalProperty ;
    rdfs:label "name"@en ;
    owl:equivalentProperty :name ;
    rdfs:domain :ProductCategory ;
    rdfs:range xsd:string .

:price a owl:DatatypeProperty ;
    rdfs:label "price"@en ;
    owl:equivalentProperty s:price ;
    rdfs:range xsd:float;
    rdfs:domain :Product .

:deduced_type a owl:FunctionalProperty ;
    rdfs:label "deduced category type"@en ;
    rdfs:domain :Product .
